<!DOCTYPE html>
<html>
  <head>
    <title>Prisma example with Zeit Now</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/tailwindcss/dist/tailwind.min.css"
    />
  </head>
  <body>
    <div class="py-24" style="background: rgb(12, 52, 75)">
      <div class="container mx-auto px-6">
        <h2 class="text-4xl font-bold mb-8 text-white">
          Prisma example with Zeit Now
        </h2>

        <button
          onclick="getData()"
          class="fetch-button bg-white font-bold rounded-full py-4 px-8 shadow-lg uppercase tracking-wider"
        >
          Load posts
        </button>
      </div>
    </div>

    <div class="container mx-auto">
      <pre
        class="data-container text-white bg-black shadow-md px-8 pt-6 pb-8 invisible"
      ></pre>
    </div>

    <script>
      const dataContainer = document.querySelector('.data-container')

      function getData() {
        fetch('/api/')
          .then(function(response) {
            return response.json()
          })
          .then(function(response) {
            dataContainer.classList.remove('invisible')
            dataContainer.textContent = response
          })
          .catch(function(err) {
            dataContainer.classList.remove('invisible')
            dataContainer.textContent = 'Error fetching'
          })
      }
    </script>
  </body>
</html>
